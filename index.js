function toTimestampString(timestampSeconds) {
    const hours = Math.floor(timestampSeconds / 3600);
    const minutes = Math.floor(timestampSeconds / 60) % 60;
    const seconds = Math.floor(timestampSeconds % 60);
    const thousands = Math.floor((timestampSeconds % 1) * 1000);
    return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}.${thousands.toString().padStart(3, '0')}`;
}

const lyrics = {
    "syncType": "LINE_SYNCED",
    "lines": [
        {
            "startTimeMs": "12340",
            "words": "Dinosaurchestra, Dinosaurchestra, Dinosaurchestra",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "19910",
            "words": "Dinosaurchestra, Dinosaurchestra, Dinosaurchestra",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "28070",
            "words": "Dinosaurchestra, Dinosaurchestra, Dinosaurchestra",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "36080",
            "words": "Dinosaurchestra, Dinosaurchestra, Dinosaurchestra",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "60920",
            "words": "We can't return to present",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "64180",
            "words": "(Uh oh, uh oh, uh oh)",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "68550",
            "words": "This may be less than pleasant",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "72010",
            "words": "(Uh oh, uh oh, uh oh)",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "75930",
            "words": "What's that rock way up in the sky?",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "80220",
            "words": "That's our friend, Super Duper Meteor!",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "84280",
            "words": "Does this mean we're all gonna die?",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "88300",
            "words": "Shook my Magic 8-Ball, and it said",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "93900",
            "words": "\"As a powerful and complex computer of near omniscience",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "97790",
            "words": "I can report with total confidence",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "99830",
            "words": "After a careful .3 seconds calculating a whole world of probability and statistics",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "105840",
            "words": "That yes, we are all gonna die\"",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "108280",
            "words": "Dinosaurchestra, Dinosaurchestra, Dinosaurchestra",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "116560",
            "words": "Dinosaurchestra, Dinosaurchestra, Dinosaurchestra",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "124640",
            "words": "We'll all be blown up real soon",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "128210",
            "words": "(Uh oh, uh oh, uh oh)",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "132300",
            "words": "But not before we're in tune",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "136430",
            "words": "(Uh oh, uh oh, uh oh)",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "140290",
            "words": "Won't you be a good dinosaur?",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "143760",
            "words": "We must be before we're not",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "148020",
            "words": "Treat these creatures to an encore",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "152610",
            "words": "One last time is all we've got",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "155420",
            "words": "So, let's rock out in a Dinosaurchestra!",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "163700",
            "words": "And let's all shout in a Dinosaurchestra!",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "172070",
            "words": "Let's have fun in a Dinosaurchestra!",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "180250",
            "words": "One last time before we have to...",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "183740",
            "words": "Dinosaurchestra, Dinosaurchestra, Dinosaurchestra",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "190120",
            "words": "(Before we have to die!)",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "192250",
            "words": "Dinosaurchestra, Dinosaurchestra, Dinosaurchestra",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "197810",
            "words": "(Before we have to die in a super-colossal explosion)",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "203980",
            "words": "(And all become fossils for people to dig up some day!)",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "208170",
            "words": "Dinosaurchestra, Dinosaurchestra, Dinosaurchestra",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "215990",
            "words": "Dinosaur punk",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "218140",
            "words": "Dinosaur rap",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "219080",
            "words": "Dinosaur ska",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "220620",
            "words": "Dinosaur country",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "222360",
            "words": "Dinosaur blues",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "223970",
            "words": "Dinosaur jazz",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "224910",
            "words": "Dinosaur techno",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "226560",
            "words": "Dinosaur pop",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "228460",
            "words": "Dinosaur soul",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "229540",
            "words": "Dinosaur rock",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "231080",
            "words": "Dinosaur!",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "232050",
            "words": "Dinosaurchestra, Dinosaurchestra, Dinosaurchestra",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "239590",
            "words": "Dinosaurchestra, Dinosaurchestra, Dinosaurchestra",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "247920",
            "words": "Dinosaurchestra, Dinosaurchestra, Dinosaurchestra",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "256040",
            "words": "Dinosaurchestra, Dinosaurchestra, Dinosaurchestra",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "264080",
            "words": "Dinosaurchestra, Dinosaurchestra, Dinosaurchestra",
            "syllables": [],
            "endTimeMs": "0"
        },
        {
            "startTimeMs": "272050",
            "words": "",
            "syllables": [],
            "endTimeMs": "0"
        }
    ],
    "provider": "MusixMatch",
    "providerLyricsId": "7528683",
    "providerDisplayName": "Musixmatch",
    "syncLyricsUri": "",
    "isDenseTypeface": false,
    "alternatives": [],
    "language": "en",
    "isRtlLanguage": false,
    "fullscreenAction": "FULLSCREEN_LYRICS"
};

// endTimeMs should be the next startTimeMs
// if there are no more lines, it should be left as is
for (let i = 0; i < lyrics.lines.length; i++) {
    if (i < lyrics.lines.length - 1) {
        lyrics.lines[i].endTimeMs = lyrics.lines[i + 1].startTimeMs;
    }
}
// drop the last line
lyrics.lines.pop();
// convert to webvtt
let vtt = "WEBVTT\n\n";
for (let line of lyrics.lines) {
    vtt += `${toTimestampString(+line.startTimeMs / 1000)} --> ${toTimestampString(+line.endTimeMs / 1000)}\n`;
    vtt += `${line.words}\n\n`;
}
console.log(vtt);